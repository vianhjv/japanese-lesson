<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JLPT Video Studio - Sync Fixed</title>
    <style>
        /* --- 1. GIAO DIá»†N CÆ  Báº¢N --- */
        :root {
            --bg-color: #f0f2f5;
            --chat-bg: #ffffff;
            --primary: #2196f3;
            --highlight-color:  #fff59d; /* MÃ u xanh highlight chuáº©n  #a0e7e5*/
        }

        body {
            font-family: "Segoe UI", "Hiragino Sans", sans-serif;
            background-color: var(--bg-color);
            margin: 0; padding: 0; height: 100vh;
            display: flex; flex-direction: column; overflow: hidden;
        }

        /* --- 2. KHU Vá»°C MEDIA --- */
        .media-stage {
            flex: 1.5; 
            background: #000; position: relative;
            display: flex; align-items: center; justify-content: center;
            overflow: hidden; border-bottom: 2px solid #ddd;
        }
        .media-content { width: 100%; height: 100%; object-fit: cover; }

        /* --- 3. KHU Vá»°C Ká»ŠCH Báº¢N --- */
        .script-stage {
            flex: 1; background: var(--chat-bg);
            position: relative; overflow-y: auto;
            padding: 20px 0; scroll-behavior: smooth;
        }
        .script-content { padding: 0 20px; max-width: 900px; margin: 0 auto; }

        .row {
            display: flex; align-items: flex-start;
            margin-bottom: 30px; opacity: 0.5; 
            transform: scale(0.98); transition: all 0.3s ease;
            cursor: pointer;
        }
        .row.active {
            opacity: 1 !important; transform: scale(1.02);
            filter: drop-shadow(0 8px 15px rgba(0,0,0,0.1));
        }

        .avatar {
            width: 55px; height: 55px; border-radius: 50%;
            color: white; display: flex; align-items: center; justify-content: center;
            font-weight: bold; font-size: 20px; flex-shrink: 0;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2); border: 2px solid #fff;
            margin-top: 5px;
        }

        .bubble {
            max-width: 85%; padding: 15px 25px; border-radius: 20px;
            position: relative; margin: 0 15px;
            background: #f8f9fa; border: 1px solid #e9ecef;
        }

        /* CSS BÃ€I 24 CHUáº¨N */
        ruby { ruby-align: center; }
        rt { font-size: 0.6em; color: #7f8c8d; user-select: none; font-weight: normal;}
        
        .japanese-text {
            font-weight: 500; color: #2c3e50; line-height: 2.2; margin-bottom: 10px;
            font-size: 1.6rem;
        }
        .vietnamese-text {
            font-size: 1.1rem; color: #555; 
            border-left: 4px solid #4caf50; padding-left: 12px;
            display: block; margin-top: 8px; font-style: italic; line-height: 1.5;
        }
        .grammar-point {
            color: #c0392b; font-weight: 700;
            background-color: rgba(231, 76, 60, 0.1);
            padding: 2px 6px; border-radius: 4px;
        }
        .g-verb-form {
            color: #2980b9; font-weight: 700;
            background-color: #eaf5fb;
            padding: 2px 6px; border-radius: 4px;
        }
        .current-word-highlight {
            background-color: var(--highlight-color);
            border-radius: 4px;
            box-shadow: 0 0 0 2px var(--highlight-color);
        }

        /* Layout TrÃ¡i/Pháº£i */
        .left { flex-direction: row; }
        .left .bubble { border-top-left-radius: 4px; background: #ffffff; border-color: #d1d1d1;}
        .right { flex-direction: row-reverse; }
        .right .bubble { border-top-right-radius: 4px; text-align: left; background: #e3f2fd; border-color: #bbdefb; }

        .t1 .avatar { background: #ff5722; } 
        .t2 .avatar { background: #3f51b5; }
        .t3 .avatar { background: #4caf50; }

        /* --- 4. EDITOR & CONTROLS --- */
        .toggle-btn { 
            position: absolute; top: 15px; right: 15px; z-index: 100; 
            padding: 10px 20px; border-radius: 30px; border: none; cursor: pointer; 
            background: rgba(0,0,0,0.8); color: white; font-weight: bold;
            box-shadow: 0 4px 10px rgba(0,0,0,0.3);
        }
        #editor {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: #f8f9fa; z-index: 2000; transform: translateY(-100%); transition: 0.4s cubic-bezier(0.16, 1, 0.3, 1);
            display: flex; flex-direction: column;
        }
        #editor.show { transform: translateY(0); }
        .editor-content { flex: 1; overflow-y: auto; padding: 30px; max-width: 1000px; margin: 0 auto; width: 100%; box-sizing: border-box; }
        
        .input-group { background: white; padding: 20px; border-radius: 10px; margin-bottom: 20px; box-shadow: 0 2px 5px rgba(0,0,0,0.05); }
        textarea { width: 100%; height: 200px; font-family: monospace; padding: 15px; border: 1px solid #ccc; border-radius: 8px; font-size: 14px; }

        .voice-map-row {
            display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 15px; align-items: center;
            padding: 10px; border-bottom: 1px solid #eee;
        }
        select { width: 100%; padding: 8px; border-radius: 5px; border: 1px solid #ccc; }

        .controls {
            background: #fff; padding: 20px; display: flex; justify-content: center; gap: 20px;
            box-shadow: 0 -5px 20px rgba(0,0,0,0.1); z-index: 100;
        }
        .btn { 
            padding: 12px 30px; border-radius: 30px; border: none; cursor: pointer; 
            font-weight: bold; font-size: 16px; color: white; transition: 0.2s; display: flex; align-items: center; gap: 8px;
        }
        .btn:hover { transform: translateY(-2px); box-shadow: 0 4px 8px rgba(0,0,0,0.2); }
        /* Gá»™p chung 3 nÃºt phá»¥: Nháº­t, Viá»‡t, Stop */
        .btn-jp, .btn-vn, .btn-stop, .btn-pause  {
          background: #e0f2f1;       /* Ná»n Xanh Pastel nháº¡t (Mint) */
           color: #546e7a;            /* Chá»¯ mÃ u xÃ¡m xanh */
        border: 1px solid #b0bec5; /* Viá»n xÃ¡m má» Ä‘á»ƒ táº¡o khung nháº¹ */
         font-weight: 600;
}


        /* { background: #ff9800; color: #333; width: 160px; justify-content: center; } */

   
        .btn-scan { background: #ffc107; color: #333; }
        .btn-save { background: #4caf50; }

    </style>
</head>
<body>

    <button class="toggle-btn" onclick="document.getElementById('editor').classList.add('show')">ğŸ›  Cáº¥u hÃ¬nh Studio</button>

    <div id="editor">
        <div style="padding: 20px; background: white; border-bottom: 1px solid #ddd; display: flex; justify-content: space-between; align-items: center;">
            <h2 style="margin: 0;">ğŸ¥ PhÃ²ng Thu Ã‚m</h2>
            <div style="display: flex; gap: 10px;">
                <button class="btn btn-stop" onclick="loadDemo()">Máº«u BÃ i 24</button>
                <button class="btn btn-save" onclick="saveAndClose()">ğŸ’¾ LÆ°u & ÄÃ³ng</button>
            </div>
        </div>

        <div class="editor-content">
            <div class="input-group">
                <label>ğŸ–¼ Link áº¢nh/Video ná»n:</label>
                <input type="text" id="mediaInput" style="width: 100%; padding: 10px; border-radius: 5px; border: 1px solid #ccc;" value="../photo/lesson24.jpg">
            </div>

            <div class="input-group">
                <label>ğŸ“ Ká»‹ch báº£n (Format: TÃªn: HTML Tiáº¿ng Nháº­t | Tiáº¿ng Viá»‡t)</label>
                <textarea id="txtInput" placeholder="Yamada: <ruby>ç§<rt>ã‚ãŸã—</rt></ruby>... | TÃ´i lÃ ..."></textarea>
                <div style="margin-top: 10px;">
                    <button class="btn btn-scan" onclick="scanCharacters()">ğŸ”„ 1. QuÃ©t NhÃ¢n Váº­t & Giá»ng</button>
                </div>
            </div>

            <div class="input-group">
                <label>ğŸ­ PhÃ¢n Vai & Chá»n Giá»ng:</label>
                <div style="background: #f9f9f9; padding: 10px; border-radius: 8px; border: 1px solid #ddd;">
                    <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; font-weight: bold; padding: 10px; border-bottom: 2px solid #ddd;">
                        <div>NhÃ¢n váº­t</div>
                        <div>ğŸ‡¯ğŸ‡µ Giá»ng Nháº­t</div>
                        <div>ğŸ‡»ğŸ‡³ Giá»ng Viá»‡t</div>
                    </div>
                    <div id="voiceMappingContainer">
                        <div style="padding: 20px; text-align: center; color: #999;">ChÆ°a cÃ³ nhÃ¢n váº­t nÃ o.</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="media-stage">
        <img id="bgImg" class="media-content" src="" style="display:none;">
        <video id="bgVid" class="media-content" src="" style="display:none;" loop playsinline muted></video>
    </div>

    <div class="script-stage">
        <div id="scriptContent" class="script-content"></div>
        <div style="height: 150px;"></div>
    </div>

    <div class="controls">
        <button class="btn btn-jp" onclick="playAll('jp')"> Japanese</button>
        <button class="btn btn-vn" onclick="playAll('vn')"> Vietnamese</button>
        <button class="btn btn-pause" id="btnPause" onclick="togglePause()">â¸ Pause</button>
        <button class="btn btn-stop" onclick="stopPlayer()">â¹ Stop</button>
    </div>

<script>
    // --- 1. QUáº¢N LÃ GIá»ŒNG ---
    const voiceManager = {
        jpVoices: [], vnVoices: [], assignments: {},
        init: function() {
            const load = () => {
                const all = window.speechSynthesis.getVoices();
                this.jpVoices = all.filter(v => v.lang.includes('ja'));
                this.vnVoices = all.filter(v => v.lang.includes('vi'));
            };
            window.speechSynthesis.onvoiceschanged = load;
            load();
        },
        getVoiceObj: function(uri) {
            return window.speechSynthesis.getVoices().find(v => v.voiceURI === uri);
        }
    };
    voiceManager.init();

    // --- 2. Xá»¬ LÃ Ká»ŠCH Báº¢N ---
    let scriptLines = [];
    
    function scanCharacters() {
        const raw = document.getElementById('txtInput').value;
        const lines = raw.split('\n').filter(l => l.trim());
        const charSet = new Set();
        lines.forEach(line => { if(line.includes(':')) charSet.add(line.split(':')[0].trim()); });

        const container = document.getElementById('voiceMappingContainer');
        container.innerHTML = '';
        if(charSet.size === 0) return;

        charSet.forEach(char => {
            const row = document.createElement('div'); row.className = 'voice-map-row';
            const label = document.createElement('div'); label.textContent = char; label.style.fontWeight = 'bold';
            
            const createSel = (voices, type) => {
                const sel = document.createElement('select');
                voices.forEach(v => {
                    const opt = document.createElement('option');
                    opt.value = v.voiceURI; opt.textContent = v.name;
                    sel.appendChild(opt);
                });
                if(voiceManager.assignments[char] && voiceManager.assignments[char][type]) {
                    sel.value = voiceManager.assignments[char][type];
                }
                sel.onchange = () => {
                    if(!voiceManager.assignments[char]) voiceManager.assignments[char] = {};
                    voiceManager.assignments[char][type] = sel.value;
                };
                // Set default if empty
                if(voices.length > 0 && !sel.value) {
                   sel.value = voices[0].voiceURI;
                   if(!voiceManager.assignments[char]) voiceManager.assignments[char] = {};
                   voiceManager.assignments[char][type] = sel.value;
                }
                return sel;
            };

            row.appendChild(label);
            row.appendChild(createSel(voiceManager.jpVoices, 'jp'));
            row.appendChild(createSel(voiceManager.vnVoices, 'vn'));
            container.appendChild(row);
        });
    }

    function saveAndClose() {
        const raw = document.getElementById('txtInput').value;
        const lines = raw.split('\n').filter(l => l.trim());
        const container = document.getElementById('scriptContent');
        container.innerHTML = '';
        scriptLines = [];

        // Media
        const mediaUrl = document.getElementById('mediaInput').value;
        const img = document.getElementById('bgImg');
        const vid = document.getElementById('bgVid');
        if(mediaUrl.match(/\.(mp4|webm)$/i)) {
            vid.src = mediaUrl; vid.style.display='block'; img.style.display='none'; vid.play();
        } else {
            img.src = mediaUrl; img.style.display='block'; vid.style.display='none';
        }

        let lastChar = ''; let isLeft = true;
        lines.forEach((line, idx) => {
            const firstColon = line.indexOf(':');
            if(firstColon === -1) return;
            const charName = line.substring(0, firstColon).trim();
            const content = line.substring(firstColon + 1);
            const parts = content.split('|');
            
            if(lastChar && charName !== lastChar) isLeft = !isLeft;
            lastChar = charName;

            const div = document.createElement('div');
            div.className = `row ${isLeft ? 'left' : 'right'} t${(idx % 3) + 1}`;
            div.id = `line-${idx}`;
            div.innerHTML = `
                <div class="avatar" title="${charName}">${charName.charAt(0)}</div>
                <div class="bubble">
                    <div class="japanese-text" id="jp-text-${idx}">${parts[0].trim()}</div>
                    ${parts[1] ? `<span class="vietnamese-text" id="vn-text-${idx}">${parts[1].trim()}</span>` : ''}
                </div>
            `;
            // Click to jump
            div.onclick = () => {
                stopPlayer(); // Reset tráº¡ng thÃ¡i
                currentIndex = idx;
                isPlaying = true;
                currentLangMode = currentLangMode || 'jp'; // Default jp náº¿u chÆ°a chá»n
                speakNext();
            };
            container.appendChild(div);
            scriptLines.push({ index: idx, char: charName, jpId: `jp-text-${idx}`, vnId: `vn-text-${idx}`, rowId: `line-${idx}` });
        });
        document.getElementById('editor').classList.remove('show');
    }

    // --- 3. HIGHLIGHT ENGINE (Giá»¯ nguyÃªn vÃ¬ Ä‘Ã£ tá»‘t) ---
    function buildSpeechMap(parentNode) {
        let speakableText = '';
        const domMap = [];
        const HIGHLIGHT_CLASS = 'current-word-highlight';
        const wrapperSpans = [];

        function traverse(node) {
            if (node.nodeType === 3) {
                if(node.parentNode.nodeName !== 'RUBY' && node.parentNode.nodeName !== 'RT') {
                     const txt = node.textContent;
                     speakableText += txt;
                     for(let i=0; i<txt.length; i++) domMap.push(node);
                }
            } else if (node.nodeType === 1) {
                if (node.nodeName === 'RUBY') {
                    let reading = node.querySelector('rt')?.textContent || node.innerText;
                    speakableText += reading;
                    for(let i=0; i<reading.length; i++) domMap.push(node);
                } else if (node.nodeName !== 'RT' && node.nodeName !== 'RP') {
                    node.childNodes.forEach(traverse);
                }
            }
        }
        parentNode.childNodes.forEach(traverse);

        return { 
            speakableText, 
            applyHighlight: (start, len) => {
                wrapperSpans.forEach(s => s.parentNode?.replaceChild(s.firstChild, s)); wrapperSpans.length = 0;
                parentNode.querySelectorAll('.'+HIGHLIGHT_CLASS).forEach(e => e.classList.remove(HIGHLIGHT_CLASS));
                const nodes = new Set();
                for (let i = start; i < start + len; i++) if (domMap[i]) nodes.add(domMap[i]);
                nodes.forEach(n => {
                    if(n.nodeType === 1) n.classList.add(HIGHLIGHT_CLASS);
                    else {
                        const s = document.createElement('span'); s.className = HIGHLIGHT_CLASS;
                        n.parentNode?.insertBefore(s, n); s.appendChild(n); wrapperSpans.push(s);
                    }
                });
            },
            clearHighlights: () => {
                wrapperSpans.forEach(s => s.parentNode?.replaceChild(s.firstChild, s)); wrapperSpans.length = 0;
                parentNode.querySelectorAll('.'+HIGHLIGHT_CLASS).forEach(e => e.classList.remove(HIGHLIGHT_CLASS));
            }
        };
    }

    // --- 4. PLAYER Vá»šI LOGIC SYNC Má»šI ---
    let currentIndex = 0;
    let isPlaying = false; // Tráº¡ng thÃ¡i "Ä‘ang trong phiÃªn Ä‘á»c"
    let isPaused = false;  // Tráº¡ng thÃ¡i "Ä‘ang táº¡m dá»«ng"
    let currentLangMode = 'jp';
    let activeSpeechMap = null;

    function playAll(lang) {
        stopPlayer(); // Reset sáº¡ch sáº½
        currentLangMode = lang;
        currentIndex = 0;
        isPlaying = true;
        isPaused = false;
        updatePauseBtn();
        speakNext();
    }

    function updatePauseBtn() {
        const btn = document.getElementById('btnPause');
        if(isPaused) {
            btn.innerHTML = 'â–¶ Continue';
            btn.style.background = '#fff9c4'; // MÃ u xanh khi tiáº¿p tá»¥c #4caf50
        } else {
            btn.innerHTML = 'â¸ Pause';
            btn.style.background = '#fff9c4'; // MÃ u cam khi pause #ffeb3b
        }
    }

    // FIX: Logic Pause má»›i - Há»§y Ä‘á»c Ä‘á»ƒ trÃ¡nh lá»—i trÃ¬nh duyá»‡t
    function togglePause() {
        if(!isPlaying) return; // ChÆ°a cháº¡y thÃ¬ khÃ´ng lÃ m gÃ¬

        if(isPaused) {
            // Äang Pause -> Báº¥m Ä‘á»ƒ Resume
            isPaused = false;
            updatePauseBtn();
            // Resume báº±ng cÃ¡ch Ä‘á»c láº¡i dÃ²ng hiá»‡n táº¡i tá»« Ä‘áº§u -> Sync chuáº©n 100%
            speakNext(); 
        } else {
            // Äang Play -> Báº¥m Ä‘á»ƒ Pause
            isPaused = true;
            updatePauseBtn();
            window.speechSynthesis.cancel(); // Dá»«ng tiáº¿ng ngay láº­p tá»©c
            // LÆ°u Ã½: cancel() sáº½ kÃ­ch hoáº¡t onend, ta xá»­ lÃ½ cháº·n á»Ÿ dÆ°á»›i
        }
    }

    function stopPlayer() {
        window.speechSynthesis.cancel();
        isPlaying = false;
        isPaused = false;
        if(activeSpeechMap) activeSpeechMap.clearHighlights();
        document.querySelectorAll('.row').forEach(r => r.classList.remove('active'));
        updatePauseBtn();
    }

    function speakNext() {
        // Náº¿u Ä‘Ã£ dá»«ng háº³n hoáº·c háº¿t bÃ i thÃ¬ thÃ´i
        if(!isPlaying || currentIndex >= scriptLines.length) {
            isPlaying = false;
            return;
        }

        // Náº¿u Ä‘ang tráº¡ng thÃ¡i Pause thÃ¬ khÃ´ng Ä‘Æ°á»£c Ä‘á»c (cháº·n Ä‘á»‡ quy)
        if(isPaused) return;

        const lineData = scriptLines[currentIndex];
        const rowEl = document.getElementById(lineData.rowId);
        
        // UI: Highlight dÃ²ng
        document.querySelectorAll('.row').forEach(r => r.classList.remove('active'));
        rowEl.classList.add('active');
        rowEl.scrollIntoView({behavior: "smooth", block: "center"});

        // Chuáº©n bá»‹ text
        let textToSpeak = "";
        if (currentLangMode === 'jp') {
            activeSpeechMap = buildSpeechMap(document.getElementById(lineData.jpId));
            textToSpeak = activeSpeechMap.speakableText;
        } else {
            if(activeSpeechMap) activeSpeechMap.clearHighlights(); // XÃ³a highlight cÅ© náº¿u cÃ³
            const vnEl = document.getElementById(lineData.vnId);
            textToSpeak = vnEl ? vnEl.textContent : "";
            if(!textToSpeak) { // KhÃ´ng cÃ³ tiáº¿ng Viá»‡t thÃ¬ bá» qua
                currentIndex++;
                speakNext(); 
                return;
            }
        }

        const utter = new SpeechSynthesisUtterance(textToSpeak);
        utter.rate = 0.9;

        // GÃ¡n giá»ng
        const assign = voiceManager.assignments[lineData.char];
        if(assign) {
            const vid = currentLangMode === 'jp' ? assign.jp : assign.vn;
            const vObj = voiceManager.getVoiceObj(vid);
            if(vObj) utter.voice = vObj;
            else utter.lang = currentLangMode === 'jp' ? 'ja-JP' : 'vi-VN';
        }

        // Event: Highlight tá»«ng tá»« (Chá»‰ JP)
        if(currentLangMode === 'jp') {
            utter.onboundary = (event) => {
                // FIX: Náº¿u Ä‘ang pause mÃ  sá»± kiá»‡n váº«n báº¯n vá» -> Bá» qua
                if(isPaused) return; 
                if(event.name === 'word' && activeSpeechMap) {
                    activeSpeechMap.applyHighlight(event.charIndex, event.charLength);
                }
            };
        }

        // Event: Káº¿t thÃºc cÃ¢u
        utter.onend = () => {
            if(activeSpeechMap) activeSpeechMap.clearHighlights();
            
            // FIX QUAN TRá»ŒNG: Náº¿u ngÆ°á»i dÃ¹ng báº¥m Pause, cancel() Ä‘Æ°á»£c gá»i -> onend kÃ­ch hoáº¡t.
            // Ta pháº£i cháº·n khÃ´ng cho nÃ³ nháº£y sang dÃ²ng tiáº¿p theo khi Ä‘ang Pause.
            if(isPaused) return; 

            if(isPlaying) {
                currentIndex++;
                setTimeout(speakNext, 600); // Nghá»‰ chÃºt rá»“i Ä‘á»c tiáº¿p
            }
        };

        utter.onerror = (e) => {
            // Lá»—i do cancel() (khi báº¥m pause) cÅ©ng kÃ­ch hoáº¡t onerror á»Ÿ má»™t sá»‘ trÃ¬nh duyá»‡t
            if(isPaused) return;
            console.log("Audio error/cancel", e);
        };

        window.speechSynthesis.speak(utter);
    }

    function loadDemo() {
        // Dá»¯ liá»‡u máº«u
        document.getElementById('txtInput').value = ` Yamada: ã§ã¯ã€ã‚¢ãƒ³ã•ã‚“ã€<ruby>æº–å‚™<rt>ã˜ã‚…ã‚“ã³</rt></ruby>ã¯ã„ã„ã§ã™ã‹ã€‚<ruby>æ–°<rt>ã‚ãŸã‚‰</rt></ruby>ã—ã„ãƒ‡ã‚¶ã‚¤ãƒ³<ruby>æ¡ˆ<rt>ã‚ã‚“</rt></ruby>ã«ã¤ã„ã¦ã€<ruby>èª¬æ˜<rt>ã›ã¤ã‚ã„</rt></ruby>ã‚’<ruby>å§‹<rt>ã¯ã˜</rt></ruby>ã‚ã¦ãã ã•ã„ã€‚| Váº­y thÃ¬, An, em Ä‘Ã£ sáºµn sÃ ng chÆ°a? HÃ£y báº¯t Ä‘áº§u giáº£i thÃ­ch vá» phÆ°Æ¡ng Ã¡n thiáº¿t káº¿ má»›i Ä‘i.

An: ã¯ã„ï¼ã“ã¡ã‚‰ãŒã€<ruby>ç§<rt>ã‚ãŸã—</rt></ruby>ãŒ<ruby>ææ¡ˆ<rt>ã¦ã„ã‚ã‚“</rt></ruby>ã™ã‚‹<ruby>æ–°<rt>ã‚ãŸã‚‰</rt></ruby>ã—ã„ãƒ‡ã‚¶ã‚¤ãƒ³ã§ã™ã€‚ã‚³ãƒ³ã‚»ãƒ—ãƒˆã¯ã€Œ<ruby>æœªæ¥<rt>ã¿ã‚‰ã„</rt></ruby>ã¸ã®<ruby>èºå‹•æ„Ÿ<rt>ã‚„ãã©ã†ã‹ã‚“</rt></ruby>ã€ã§ã—ã¦â€¦ã€‚| VÃ¢ng! ÄÃ¢y lÃ  báº£n thiáº¿t káº¿ má»›i mÃ  em Ä‘á» xuáº¥t áº¡. Ã tÆ°á»Ÿng chá»§ Ä‘áº¡o lÃ  "Cáº£m giÃ¡c sá»‘ng Ä‘á»™ng hÆ°á»›ng tá»›i tÆ°Æ¡ng lai"...

Narrator: <small>ï¼ˆã‚¢ãƒ³ãŒã—ã°ã‚‰ãèª¬æ˜ã™ã‚‹ï¼‰</small> | (An trÃ¬nh bÃ y má»™t lÃºc)

Yamada: ãªã‚‹ã»ã©ã€‚ã—ã‹ã—ã€ã“ã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã¯ã‹ãªã‚Š<ruby>å¤§èƒ†<rt>ã ã„ãŸã‚“</rt></ruby>ã§ã™ã­ã€‚ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã«<ruby>æœ¬å½“<rt>ã»ã‚“ã¨ã†</rt></ruby>ã«<span class="g-verb-form"><ruby>å—<rt>ã†</rt></ruby>ã‘<ruby>å…¥<rt>ã„</rt></ruby>ã‚Œ</span><span class="grammar-point">ã‚‰ã‚Œã‚‹</span>ã¨<ruby>æ€<rt>ãŠã‚‚</rt></ruby>ã„ã¾ã™ã‹ã€‚| Ra lÃ  váº­y. Tuy nhiÃªn, bá»‘ cá»¥c nÃ y khÃ¡ lÃ  tÃ¡o báº¡o Ä‘áº¥y. Em cÃ³ nghÄ© lÃ  nÃ³ sáº½ thá»±c sá»± Ä‘Æ°á»£c khÃ¡ch hÃ ng cháº¥p nháº­n khÃ´ng?

An: ã¯ã„ã€<ruby>ç¢º<rt>ãŸã—ã‹</rt></ruby>ã«<ruby>æŒ‘æˆ¦çš„<rt>ã¡ã‚‡ã†ã›ã‚“ã¦ã</rt></ruby>ã§ã™ãŒã€ã“ã‚Œã“ããŒã€Œã‚¤ãƒ³ãƒ‘ã‚¯ãƒˆãŒ<ruby>æ¬²<rt>ã»</rt></ruby>ã—ã„ã€ã¨ã„ã†<ruby>è¦æœ›<rt>ã‚ˆã†ã¼ã†</rt></ruby>ã«<ruby>å¿œ<rt>ã“ãŸ</rt></ruby>ãˆã‚‹<ruby>æœ€å–„<rt>ã•ã„ãœã‚“</rt></ruby>ã®<ruby>æ–¹æ³•<rt>ã»ã†ã»ã†</rt></ruby>ã ã¨<ruby>è€ƒ<rt>ã‹ã‚“ãŒ</rt></ruby>ãˆã¾ã™ã€‚| VÃ¢ng, Ä‘Ãºng lÃ  nÃ³ cÃ³ tÃ­nh thá»­ thÃ¡ch, nhÆ°ng em tin ráº±ng Ä‘Ã¢y chÃ­nh lÃ  phÆ°Æ¡ng phÃ¡p tá»‘t nháº¥t Ä‘á»ƒ Ä‘Ã¡p láº¡i yÃªu cáº§u "muá»‘n cÃ³ sá»± Ä‘á»™t phÃ¡" áº¡. `;
        scanCharacters();
        alert("ÄÃ£ táº£i máº«u. HÃ£y chá»n giá»ng rá»“i LÆ°u!");
    }
</script>
</body>
</html>