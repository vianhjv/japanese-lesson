<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BÃ i 3: Thá»ƒ Lá»‹ch sá»± & ThÃ´ng thÆ°á»ng | Há»c tiáº¿ng Nháº­t cÃ¹ng An</title>
    
<style>
    /* --- CSS khÃ´ng thay Ä‘á»•i, giá»¯ nguyÃªn nhÆ° phiÃªn báº£n trÆ°á»›c --- */
    body {
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
        line-height: 1.6; margin: 0; background-color: #f3eadc; 
    }
    .page-header, .page-footer { text-align: center; padding: 20px; }
    .scene-container { max-width: 900px; margin: 20px auto; position: relative; }
    .scene-background-image {
        display: block; width: 100%; height: auto; border-radius: 15px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        transition: opacity 0.4s ease;
    }
    .dialogue-overlay {
        position: relative; margin-top: -80px; margin-left: 20px; margin-right: 20px;
        padding: 25px; background: rgba(200, 180, 140, 0.55);
        border-radius: 15px; box-shadow: 0 5px 20px rgba(0,0,0,0.08);
    }
    @media (max-width: 600px) {
        .dialogue-overlay { margin-top: -40px; padding: 15px; margin-left: 10px; margin-right: 10px; }
    }
    .dialogue-display-window { color: #333; min-height: 120px; transition: opacity 0.15s ease; }
    .speaker-container { display: flex; align-items: center; margin-bottom: 10px; }
    .speaker { font-weight: 800; font-size: 1.1rem; }
    .speaker.yamada { color: #34495e; }
    .speaker.suzuki { color: #e67e22; }
    .speaker.an { color: #e84393; }
    .dialogue-content-wrapper { display: flex; align-items: flex-start; gap: 15px; }
    .dialogue-play-btn { 
        background-color: #228B22; border: none; width: 40px; height: 40px; border-radius: 50%;
        font-size: 1.2rem; cursor: pointer; color: white; transition: all 0.2s;
        display: flex; align-items: center; justify-content: center; flex-shrink: 0;
    }
    .dialogue-texts { flex-grow: 1; }
    .japanese-text {
        font-size: clamp(1.2rem, 4vw, 1.6rem); line-height: 1.8;
        margin: 0 0 8px 0; color: #2c3e50; font-weight: 500;
    }
    ruby { ruby-align: center; }
    rt { font-size: 0.6em; color: #7f8c8d; user-select: none; }
    .vietnamese-text {
        font-size: 1rem; color: #555; margin-top: 0;
        border-left: 3px solid #228B22; padding-left: 10px;
    }
    .highlight-word { background-color: #fffa90; border-radius: 4px; }
    .grammar-teinei, .grammar-futsuu {
        font-weight: bold; border-bottom: 2px dotted; padding: 0 2px; border-radius: 3px;
    }
    .grammar-teinei { color: #2980b9; border-color: #2980b9; background-color: rgba(52, 152, 219, 0.05); }
    .grammar-futsuu { color: #c0392b; border-color: #c0392b; background-color: rgba(231, 76, 60, 0.05); }
    .controls-wrapper { margin-top: 20px; padding-top: 10px; border-top: 1px solid rgba(0,0,0,0.05); }
    .scene-nav { display: flex; justify-content: center; align-items: center; gap: 10px; margin-bottom: 15px; }
    .scene-btn {
        background-color: #f0f0f0; border: 1px solid #ccc; color: #555;
        padding: 5px 15px; border-radius: 15px; cursor: pointer; transition: all 0.2s ease;
    }
    .scene-btn.active { background-color: #34495e; color: white; border-color: #34495e; font-weight: bold; }
    .dialogue-nav { display: flex; justify-content: center; align-items: center; gap: 20px; }
    #counter { color: #777; font-weight: 500; min-width: 50px; text-align: center; }
    .nav-btn {
        background-color: white; border: 1px solid #ccc; color: #333;
        padding: 8px 20px; border-radius: 20px; cursor: pointer; transition: all 0.2s ease;
    }
    .nav-btn:disabled { opacity: 0.5; cursor: default; }
</style>
</head>
<body>

    <div class="page-header">
        <h2>BÃ i 3: Thá»ƒ Lá»‹ch sá»± (ä¸å¯§å½¢) & Thá»ƒ ThÃ´ng thÆ°á»ng (æ™®é€šå½¢)</h2>
        <p>Luyá»‡n Nghe, NÃ³i, Ngá»¯ phÃ¡p, Tá»« vá»±ng thi JLPT N4</p>
    </div>

    <div class="scene-container">
        <img src="lesson3-scene1.jpg" alt="Minh há»a há»™i thoáº¡i" class="scene-background-image">
        <div class="dialogue-overlay">
            <div class="dialogue-display-window"></div>
            <div class="controls-wrapper">
                <div id="sceneNav" class="scene-nav"></div>
                <div class="dialogue-nav">
                    <button id="prevBtn" class="nav-btn">LÃ¹i</button>
                    <span id="counter"></span>
                    <button id="nextBtn" class="nav-btn">Tiáº¿p</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Nguá»“n dá»¯ liá»‡u (áº¨n) -->
    <div class="dialogue-source" style="display: none;">
        
        <!-- === Cáº¢NH 1: Báº N CÃ“ THá»‚ Äá»”I TÃŠN Cáº¢NH Táº I ÄÃ‚Y === -->
        <div class="scene" data-scene-name="Vá»›i TrÆ°á»Ÿng phÃ²ng" data-background-image="lesson3-1-An-Yamada.jpg">
            <!-- Line 1 -->
            <div class="dialogue-line">
                <div class="speaker-container"><span class="speaker yamada" data-character="yamada">å±±ç”°éƒ¨é•· (Yamada-buchou)</span></div>
                <div class="dialogue-content-wrapper">
                    <button class="dialogue-play-btn">ğŸ”Š</button>
                    <div class="dialogue-texts">
                        <p class="japanese-text">ã‚¢ãƒ³ã•ã‚“ã€ãŠã¯ã‚ˆã†ã€‚<ruby>é€±æœ«<rt>ã—ã‚…ã†ã¾ã¤</rt></ruby>ã®ãƒ¬ãƒãƒ¼ãƒˆã¯ã‚‚ã†<span class="grammar-teinei"><ruby>çµ‚<rt>ãŠ</rt></ruby>ã‚ã‚Šã¾ã—ãŸ</span>ã‹ã€‚</p>
                        <p class="vietnamese-text">ChÃ o buá»•i sÃ¡ng, An. BÃ¡o cÃ¡o cuá»‘i tuáº§n Ä‘Ã£ xong chÆ°a?</p>
                    </div>
                </div>
            </div>
            <!-- Line 2 -->
            <div class="dialogue-line">
                <div class="speaker-container"><span class="speaker an" data-character="an">ã‚¢ãƒ³ (An)</span></div>
                <div class="dialogue-content-wrapper">
                    <button class="dialogue-play-btn">ğŸ”Š</button>
                    <div class="dialogue-texts">
                        <p class="japanese-text"><ruby>éƒ¨é•·<rt>ã¶ã¡ã‚‡ã†</rt></ruby>ã€ãŠã¯ã‚ˆã†ã”ã–ã„ã¾ã™ã€‚ã¯ã„ã€ã‚‚ã†<span class="grammar-teinei"><ruby>çµ‚<rt>ãŠ</rt></ruby>ã‚ã‚Šã¾ã—ãŸ</span>ã€‚<ruby>ä»Šæ—¥<rt>ãã‚‡ã†</rt></ruby>ã®<ruby>åˆå¾Œ<rt>ã”ã”</rt></ruby>ã€ãƒ¡ãƒ¼ãƒ«ã§<span class="grammar-teinei"><ruby>é€<rt>ãŠã</rt></ruby>ã‚Šã¾ã™</span>ã€‚</p>
                        <p class="vietnamese-text">ChÃ o buá»•i sÃ¡ng TrÆ°á»Ÿng phÃ²ng áº¡. VÃ¢ng, Ä‘Ã£ xong rá»“i áº¡. Chiá»u nay em sáº½ gá»­i qua mail.</p>
                    </div>
                </div>
            </div>
            <!-- Line 3 -->
            <div class="dialogue-line">
                <div class="speaker-container"><span class="speaker yamada" data-character="yamada">å±±ç”°éƒ¨é•· (Yamada-buchou)</span></div>
                <div class="dialogue-content-wrapper">
                    <button class="dialogue-play-btn">ğŸ”Š</button>
                    <div class="dialogue-texts">
                        <p class="japanese-text">ãã†ã§ã™ã‹ã€‚<span class="grammar-teinei">ã‚ã‹ã‚Šã¾ã—ãŸ</span>ã€‚</p>
                        <p class="vietnamese-text">Váº­y Ã . TÃ´i hiá»ƒu rá»“i.</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- === Cáº¢NH 2: Báº N CÃ“ THá»‚ Äá»”I TÃŠN Cáº¢NH Táº I ÄÃ‚Y === -->
        <div class="scene" data-scene-name="Vá»›i Suzuki" data-background-image="lesson3-2-An-Suzuki.jpg">
            <!-- Line 4 -->
            <div class="dialogue-line">
                <div class="speaker-container"><span class="speaker suzuki" data-character="suzuki">éˆ´æœ¨ (Suzuki)</span></div>
                <div class="dialogue-content-wrapper">
                    <button class="dialogue-play-btn">ğŸ”Š</button>
                    <div class="dialogue-texts">
                        <p class="japanese-text">ã‚¢ãƒ³ã¡ã‚ƒã‚“ã€ãŠã¯ã‚ˆãƒ¼ï¼<ruby>éƒ¨é•·<rt>ã¶ã¡ã‚‡ã†</rt></ruby>ã€<ruby>æœ<rt>ã‚ã•</rt></ruby>ã‹ã‚‰<span class="grammar-futsuu"><ruby>å³<rt>ãã³</rt></ruby>ã—ã„</span>ã­ã€‚ã§ã€ãƒ¬ãƒãƒ¼ãƒˆã€ã‚‚ã†<span class="grammar-futsuu"><ruby>çµ‚<rt>ãŠ</rt></ruby>ã‚ã£ãŸ</span>ï¼Ÿ</p>
                        <p class="vietnamese-text">An-chan, chÃ o buá»•i sÃ¡ng! TrÆ°á»Ÿng phÃ²ng sÃ¡ng ra Ä‘Ã£ nghiÃªm kháº¯c nhá»‰. MÃ  nÃ y, bÃ¡o cÃ¡o xong chÆ°a?</p>
                    </div>
                </div>
            </div>
            <!-- Line 5 -->
            <div class="dialogue-line">
                <div class="speaker-container"><span class="speaker an" data-character="an">ã‚¢ãƒ³ (An)</span></div>
                <div class="dialogue-content-wrapper">
                    <button class="dialogue-play-btn">ğŸ”Š</button>
                    <div class="dialogue-texts">
                        <p class="japanese-text">ã†ã‚“ã€<ruby>éˆ´æœ¨<rt>ã™ãšã</rt></ruby>ã•ã‚“ã€ãŠã¯ã‚ˆï¼ã†ã‚“ã€ã•ã£ã<span class="grammar-futsuu"><ruby>çµ‚<rt>ãŠ</rt></ruby>ã‚ã£ãŸ</span>ã‚ˆã€‚<ruby>ä»Šæ—¥<rt>ãã‚‡ã†</rt></ruby>ã®<ruby>åˆå¾Œ<rt>ã”ã”</rt></ruby>ã€ãƒ¡ãƒ¼ãƒ«ã§<span class="grammar-futsuu"><ruby>é€<rt>ãŠã</rt></ruby>ã‚‹</span>ã­ã€‚</p>
                        <p class="vietnamese-text">á»ª, chÃ o buá»•i sÃ¡ng Suzuki! á»ª, tá»› xong lÃºc nÃ£y rá»“i. Chiá»u nay tá»› sáº½ gá»­i mail nhÃ©.</p>
                    </div>
                </div>
            </div>
             <!-- Line 6 -->
            <div class="dialogue-line">
                <div class="speaker-container"><span class="speaker suzuki" data-character="suzuki">éˆ´æœ¨ (Suzuki)</span></div>
                <div class="dialogue-content-wrapper">
                    <button class="dialogue-play-btn">ğŸ”Š</button>
                    <div class="dialogue-texts">
                        <p class="japanese-text">ã‚ˆã‹ã£ãŸï¼ã˜ã‚ƒã‚ã€ãŠ<ruby>æ˜¼<rt>ã²ã‚‹</rt></ruby>ã¯ãƒ©ãƒ¼ãƒ¡ãƒ³ã§ã‚‚<span class="grammar-futsuu"><ruby>é£Ÿ<rt>ãŸ</rt></ruby>ã¹ãªã„</span>ï¼Ÿ</p>
                        <p class="vietnamese-text">Tá»‘t quÃ¡! Váº­y thÃ¬, trÆ°a nay Ä‘i Äƒn ramen khÃ´ng?</p>
                    </div>
                </div>
            </div>
             <!-- Line 7 -->
            <div class="dialogue-line">
                <div class="speaker-container"><span class="speaker an" data-character="an">ã‚¢ãƒ³ (An)</span></div>
                <div class="dialogue-content-wrapper">
                    <button class="dialogue-play-btn">ğŸ”Š</button>
                    <div class="dialogue-texts">
                        <p class="japanese-text">ã†ã‚“ã€<span class="grammar-futsuu">ã„ã„ã­</span>ï¼</p>
                        <p class="vietnamese-text">á»ª, hay Ä‘áº¥y!</p>
                    </div>
                </div>
            </div>
        </div>

    </div>

<script>
document.addEventListener('DOMContentLoaded', () => {

    // === PHáº¦N 0: Bá»˜ QUáº¢N LÃ GIá»ŒNG Äá»ŒC (KhÃ´ng thay Ä‘á»•i) ===
    const voiceManager = {
        characterMap: {}, defaultVoice: null, voicesLoaded: false,
        preferences: { 'an': 'nanami', 'suzuki': 'haruka', 'yamada': 'ichiro', 'tanaka': 'keita' },
        init: function() {
            const load = () => this.loadVoices(); load();
            if (speechSynthesis.onvoiceschanged !== undefined) { speechSynthesis.onvoiceschanged = load; }
        },
        loadVoices: function() {
            if (this.voicesLoaded) return;
            const japaneseVoices = speechSynthesis.getVoices().filter(v => v.lang.startsWith('ja'));
            if (japaneseVoices.length === 0) return;
            this.defaultVoice = japaneseVoices[0];
            const found = {};
            japaneseVoices.forEach(v => {
                const name = v.name.toLowerCase();
                for (const [key, kw] of Object.entries(this.preferences)) { if (name.includes(kw)) found[kw] = v; }
            });
            const female = japaneseVoices.filter(v => /nanami|haruka|ayumi/i.test(v.name));
            const male = japaneseVoices.filter(v => /ichiro|keita|kenji/i.test(v.name));
            const assign = (char, gender, idx) => found[this.preferences[char]] || (gender.length > 0 ? gender[idx % gender.length] : this.defaultVoice);
            this.characterMap = {
                'an': assign('an', female, 0), 'suzuki': assign('suzuki', female, 1),
                'yamada': assign('yamada', male, 0), 'tanaka': assign('tanaka', male, 1)
            };
            this.voicesLoaded = true;
            if (typeof activateSpeechForCurrentLine === 'function') activateSpeechForCurrentLine();
        },
        getVoiceFor: function(charName) {
            if (!this.voicesLoaded) this.loadVoices();
            return this.characterMap[charName] || this.defaultVoice;
        }
    };
    voiceManager.init();

    // === PHáº¦N 1: Bá»˜ MÃY Äá»ŒC VÃ€ HIGHLIGHT (ÄÃƒ Sá»¬A Lá»–I) ===
    let currentSpeechHandler = null;


function createSpeechHandler(targetElement, characterName) {
        let originalHTML = targetElement.innerHTML;
        let charMap = []; 
        let plainText = '';
        let utterance = null;
        let isPlaying = false;
        let isPaused = false; // << THÃŠM BIáº¾N TRáº NG THÃI NÃ€Y

        function _prepareForSpeech() {
            plainText = ''; charMap = [];
            const tempDiv = document.createElement('div');
            tempDiv.innerHTML = originalHTML;
            function processNode(node) {
                if (node.nodeType === Node.TEXT_NODE) { plainText += node.textContent; } 
                else if (node.nodeType === Node.ELEMENT_NODE) {
                    if (node.tagName === 'RT') return;
                    Array.from(node.childNodes).forEach(processNode);
                }
            }
            processNode(tempDiv);
            
            const tempDivForHighlight = document.createElement('div');
            tempDivForHighlight.innerHTML = originalHTML;
            function wrapCharacters(node) {
                if (node.nodeType === Node.TEXT_NODE) {
                    const fragment = document.createDocumentFragment();
                    for (const char of node.textContent) {
                        const span = document.createElement('span'); span.textContent = char;
                        fragment.appendChild(span);
                    }
                    node.parentNode.replaceChild(fragment, node);
                } else if (node.nodeType === Node.ELEMENT_NODE) {
                    if (node.tagName === 'RT') return;
                    Array.from(node.childNodes).forEach(wrapCharacters);
                }
            }
            wrapCharacters(tempDivForHighlight);
            targetElement.innerHTML = tempDivForHighlight.innerHTML;
            charMap = Array.from(targetElement.querySelectorAll('span:not([class])')).filter(span => !span.closest('rt'));
        }

        function _cleanup() {
            targetElement.innerHTML = originalHTML;
            isPlaying = false;
            isPaused = false; // << Äáº¢M Báº¢O RESET KHI Dá»ŒN Dáº¸P
            const btn = displayWindow.querySelector('.dialogue-play-btn');
            if(btn) btn.innerHTML = 'ğŸ”Š';
        }

        // --- HÃ€M PLAY ÄÃƒ ÄÆ¯á»¢C NÃ‚NG Cáº¤P HOÃ€N CHá»ˆNH ---
        function play() {
            if (currentSpeechHandler && currentSpeechHandler !== this) {
                currentSpeechHandler.stop();
            }
            currentSpeechHandler = this;
            const btn = displayWindow.querySelector('.dialogue-play-btn');

            // 1. TrÆ°á»ng há»£p: Äang táº¡m dá»«ng -> Báº¥m Ä‘á»ƒ TIáº¾P Tá»¤C
            if (isPlaying && isPaused) {
                speechSynthesis.resume();
                isPaused = false;
                if(btn) btn.innerHTML = 'â¸';
                return;
            }
            
            // 2. TrÆ°á»ng há»£p: Äang phÃ¡t -> Báº¥m Ä‘á»ƒ Táº M Dá»ªNG
            if (isPlaying && !isPaused) {
                speechSynthesis.pause();
                isPaused = true;
                if(btn) btn.innerHTML = 'â–¶';
                return;
            }
            
            // 3. TrÆ°á»ng há»£p: Äang dá»«ng -> Báº¥m Ä‘á»ƒ Báº®T Äáº¦U PHÃT
            speechSynthesis.cancel();
            _prepareForSpeech();
            isPlaying = true;
            isPaused = false;
            if(btn) btn.innerHTML = 'â¸';
            
            utterance = new SpeechSynthesisUtterance(plainText);
            utterance.lang = 'ja-JP';
            utterance.rate = 1; 
            utterance.voice = voiceManager.getVoiceFor(characterName);

            utterance.onboundary = (event) => {
                if (event.name !== 'word') return;
                targetElement.querySelectorAll('.highlight-word').forEach(el => el.classList.remove('highlight-word'));
                for (let i = 0; i < event.charLength; i++) {
                    const charIndex = event.charIndex + i;
                    if (charMap[charIndex]) { charMap[charIndex].classList.add('highlight-word'); }
                }
            };
            utterance.onend = () => { _cleanup(); currentSpeechHandler = null; };
            utterance.onerror = (event) => { console.error('Lá»—i Ä‘á»c:', event); _cleanup(); currentSpeechHandler = null; };
            speechSynthesis.speak(utterance);
        }

        function stop() {
            // Kiá»ƒm tra cáº£ 2 tráº¡ng thÃ¡i
            if(isPlaying || isPaused) {
                speechSynthesis.cancel();
                _cleanup();
                currentSpeechHandler = null;
            }
        }
        return { play, stop };
    }



    // === PHáº¦N 2: ÄIá»€U KHIá»‚N Há»˜I THOáº I ÄA Cáº¢NH (ÄÃƒ NÃ‚NG Cáº¤P) ===
    const displayWindow = document.querySelector('.dialogue-display-window');
    const scenes = document.querySelectorAll('.dialogue-source .scene');
    const sceneNavContainer = document.getElementById('sceneNav');
    const prevBtn = document.getElementById('prevBtn');
    const nextBtn = document.getElementById('nextBtn');
    const counter = document.getElementById('counter');
    const bgImage = document.querySelector('.scene-background-image');
    
    let currentSceneIndex = 0;
    let currentLineIndex = 0;

    window.activateSpeechForCurrentLine = function() {
        if (currentSpeechHandler) currentSpeechHandler.stop();
        const currentPlayBtn = displayWindow.querySelector('.dialogue-play-btn');
        const currentTextElem = displayWindow.querySelector('.japanese-text');
        const currentSpeakerElem = displayWindow.querySelector('.speaker');

        if (currentPlayBtn && currentTextElem && currentSpeakerElem) {
            const charName = currentSpeakerElem.dataset.character;
            currentLineHandler = createSpeechHandler(currentTextElem, charName);
            const newBtn = currentPlayBtn.cloneNode(true);
            currentPlayBtn.parentNode.replaceChild(newBtn, currentPlayBtn);
            newBtn.addEventListener('click', () => currentLineHandler.play());
        }
    }

    function showLine(sceneIdx, lineIdx) {
        const scene = scenes[sceneIdx];
        const linesInScene = scene.querySelectorAll('.dialogue-line');
        if (lineIdx >= 0 && lineIdx < linesInScene.length) {
            currentLineIndex = lineIdx;
            
            displayWindow.style.opacity = 0;
            setTimeout(() => {
                if (currentSpeechHandler) currentSpeechHandler.stop();
                displayWindow.innerHTML = linesInScene[lineIdx].innerHTML;
                activateSpeechForCurrentLine();
                counter.textContent = `${lineIdx + 1} / ${linesInScene.length}`;
                updateNavButtons();
                displayWindow.style.opacity = 1;
            }, 150);
        }
    }

    function loadScene(sceneIdx) {
        if (sceneIdx >= 0 && sceneIdx < scenes.length) {
            currentSceneIndex = sceneIdx;
            const newBg = scenes[sceneIdx].dataset.backgroundImage;
            if (bgImage.src !== newBg) {
                bgImage.style.opacity = 0;
                setTimeout(() => {
                    bgImage.src = newBg;
                    bgImage.alt = `Bá»‘i cáº£nh cáº£nh ${sceneIdx + 1}`;
                    bgImage.style.opacity = 1;
                }, 400);
            }
            document.querySelectorAll('.scene-btn').forEach((btn, idx) => {
                btn.classList.toggle('active', idx === sceneIdx);
            });
            showLine(sceneIdx, 0);
        }
    }

    function setupSceneNav() {
        scenes.forEach((scene, index) => {
            const btn = document.createElement('button');
            btn.className = 'scene-btn';
            // Láº¥y tÃªn cáº£nh tá»« data-attribute, náº¿u khÃ´ng cÃ³ thÃ¬ dÃ¹ng tÃªn máº·c Ä‘á»‹nh
            btn.textContent = scene.dataset.sceneName || `Cáº£nh ${index + 1}`;
            btn.addEventListener('click', () => loadScene(index));
            sceneNavContainer.appendChild(btn);
        });
    }

    function updateNavButtons() {
        const linesInScene = scenes[currentSceneIndex].querySelectorAll('.dialogue-line');
        prevBtn.disabled = (currentLineIndex === 0);
        nextBtn.disabled = (currentLineIndex === linesInScene.length - 1);
    }

    nextBtn.addEventListener('click', () => {
        const linesInScene = scenes[currentSceneIndex].querySelectorAll('.dialogue-line');
        if (currentLineIndex < linesInScene.length - 1) {
            showLine(currentSceneIndex, currentLineIndex + 1);
        }
    });

    prevBtn.addEventListener('click', () => {
        if (currentLineIndex > 0) {
            showLine(currentSceneIndex, currentLineIndex - 1);
        }
    });

    // Khá»Ÿi cháº¡y
    if (scenes.length > 0) {
        setupSceneNav();
        loadScene(0);
    }
});
</script>

</body>
</html>